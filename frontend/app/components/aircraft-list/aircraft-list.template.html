<div class="list-container">
    <div layout="column" class="list-header">
        <div layout="row" layout-align="space-between center">
            <h2 class="md-title" style="margin: 0;">Aeronaves</h2>
            <div class="search-box" layout="row" layout-align="start center">
                <md-icon>search</md-icon>
                <input type="text" ng-model="$ctrl.searchTerm" ng-change="$ctrl.search()"
                    ng-model-options="{ debounce: 500 }" placeholder="Buscar por nome, id...">
            </div>
        </div>

        <div layout="row" style="margin-top: 15px; gap: 10px">
            <div class="brand-stat-chip" ng-repeat="(brand, count) in $ctrl.brandStats">
                <span class="brand-name">{{brand}}</span>
                <span class="brand-count">{{count}}</span>
            </div>
        </div>
    </div>

    <md-table-container>
        <table md-table class="aircraft-table">
            <thead md-head>
                <tr md-row>
                    <th md-column>ID</th>
                    <th md-column>FABRICANTE / MODELO</th>
                    <th md-column>ANO</th>
                    <th md-column>STATUS</th>
                    <th md-column>GERENCIAR</th>
                </tr>
            </thead>
            <tbody md-body>
                <tr md-row ng-repeat="a in $ctrl.aircrafts">
                    <td md-cell class="id-cell">#{{a.id}}</td>
                    <td md-cell>
                        <div layout="column" layout-align="center center">
                            <span class="brand-text">{{a.brand}}</span>
                            <span class="model-text">{{a.name}}</span>
                        </div>
                    </td>
                    <td md-cell>{{a.year}}</td>
                    <td md-cell>
                        <span class="status-badge" ng-class="{'sold': a.sold, 'available': !a.sold}">
                            {{a.sold ? 'VENDIDO' : 'DISPON√çVEL'}}
                        </span>
                    </td>
                    <td md-cell>
                        <md-button class="md-icon-button" aria-label="Editar" ng-click="$ctrl.edit(a)">
                            <md-icon class="action-icon">edit</md-icon>
                        </md-button>
                        <md-button class="md-icon-button" aria-label="Excluir" ng-click="$ctrl.delete($event, a)">
                            <md-icon class="action-icon">delete</md-icon>
                        </md-button>
                    </td>
                </tr>
                <tr md-row ng-if="$ctrl.aircrafts.length === 0">
                    <td md-cell colspan="5" style="text-align: center; padding: 20px;">
                        Nenhuma aeronave encontrada.
                    </td>
                </tr>
            </tbody>
        </table>
    </md-table-container>
</div>